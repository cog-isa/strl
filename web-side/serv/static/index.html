<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Индекс</title>
    <script src="/static/vendor/jquery/jquery-1.9.1.js"></script>
    <script src="/static/vendor/moment/moment.min.js"></script>
</head>
<body>

<h4>Проект</h4>

<div>
    <button onclick="getProject()">Получить</button><input id="tb-get-project-id" value="1">
</div>
<div>
    <button onclick="createProject()">Создать</button>
    Название: <input id="tb-create-project-name" value="">
</div>
<div>
    <button onclick="updateProject()">Обновить</button><input id="tb-update-project-id" value="1">
    Название: <input id="tb-update-project-name" value="">
</div>
<div>
    <button onclick="removeProject()">Удалить</button><input id="tb-remove-project-id" value="1">
</div>



<script>
function getProject() {
    $.ajax('/api/projects/' + $('#tb-get-project-id').val(), {
        method: 'GET'
    });
}
function createProject() {
    $.ajax('/api/projects', {
        method: 'POST',
        contentType: 'application/json; charset=UTF-8',
        data: JSON.stringify({
            name: $('#tb-create-project-name').val()
        })
    });
}
function updateProject() {
    $.ajax('/api/projects/' + $('#tb-update-project-id').val(), {
        method: 'PATCH',
        contentType: 'application/json; charset=UTF-8',
        data: JSON.stringify({
            name: $('#tb-update-project-name').val()
        })
    });
}
function removeProject() {
    $.ajax('/api/projects/' + $('#tb-remove-project-id').val(), {
        method: 'DELETE'
    });
}
</script>


<h4>Мир</h4>

<div>
    <button onclick="getWorld()">Получить</button><input id="tb-get-world-id" value="1">
</div>
<div>
    <button onclick="createWorld()">Создать</button>
    Название: <input id="tb-create-world-name" value="">
    ID проекта: <input id="tb-create-world-project-id" value="">
</div>
<div>
    <button onclick="updateWorld()">Обновить</button><input id="tb-update-world-id" value="1">
    Название: <input id="tb-update-world-name" value="">
</div>
<div>
    <button onclick="removeWorld()">Удалить</button><input id="tb-remove-world-id" value="1">
</div>

<script>
function getWorld() {
    $.ajax('/api/worlds/' + $('#tb-get-world-id').val(), {
        method: 'GET'
    });
}
function createWorld() {
    $.ajax('/api/worlds', {
        method: 'POST',
        contentType: 'application/json; charset=UTF-8',
        data: JSON.stringify({
            name: $('#tb-create-world-name').val(),
            project_id: $('#tb-create-world-project-id').val()
        })
    });
}
function updateWorld() {
    $.ajax('/api/worlds/' + $('#tb-update-world-id').val(), {
        method: 'PATCH',
        contentType: 'application/json; charset=UTF-8',
        data: JSON.stringify({
            name: $('#tb-update-world-name').val()
        })
    });
}
function removeWorld() {
    $.ajax('/api/worlds/' + $('#tb-remove-world-id').val(), {
        method: 'DELETE'
    });
}
</script>


<h4>Объект</h4>

<div>
    <button onclick="getObject()">Получить</button>
    <input id="tb-get-object-type-id" value="1">
</div>
<div>
    <button onclick="getObjects()">Получить все</button>
    ID мира: <input id="tb-get-objects-world-id" value="1">
</div>
<div>
    <button onclick="removeObject()">Удалить</button>
    <input id="tb-remove-object-id" value="1">
</div>

<script>

function createObject() {
    $.ajax('/api/objects', {
        method: 'POST',
        contentType: 'application/json; charset=UTF-8',
        data: JSON.stringify({
            name: 'объект1',
            type_id: 1,
            world_id: 1,
            properties: {
                length: 10,
                width: 3,
                color: '#459076'
            }
        })
    });
};

function getObject() {
    $.ajax('/api/objects/' + $('#tb-get-object-type-id').val(), {
        method: 'GET'
    });
}

function getObjects() {
    $.ajax('/api/worlds/' + $('#tb-get-objects-world-id').val() + '/objects', {
        method: 'GET'
    });
}

function removeObject() {
    $.ajax('/api/objects/' + $('#tb-remove-object-id').val(), {
        method: 'DELETE'
    });
}

</script>

</body>
</html>